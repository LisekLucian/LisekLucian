from PIL import ImageGrab
import fastapi
app = fastapi.FastAPI()


colours = {}
colours['🀄']=[189,181,176]
colours['🃏']=[178,174,170]
colours['🌀']=[78,144,163]
colours['🌁']=[204,198,202]
colours['🌂']=[90,105,111]
colours['🌃']=[56,81,95]
colours['🌄']=[188,174,75]
colours['🌅']=[169,164,120]
colours['🌆']=[123,94,49]
colours['🌇']=[169,141,79]
colours['🌈']=[135,115,78]
colours['🌊']=[74,142,167]
colours['🌋']=[112,113,91]
colours['🌌']=[95,72,137]
colours['🌍']=[109,166,156]
colours['🌎']=[112,169,166]
colours['🌏']=[109,165,154]
colours['🌐']=[65,123,134]
colours['🌑']=[94,114,116]
colours['🌒']=[121,131,116]
colours['🌓']=[157,154,115]
colours['🌔']=[192,177,113]
colours['🌕']=[219,195,113]
colours['🌖']=[192,177,113]
colours['🌗']=[157,154,115]
colours['🌘']=[121,131,116]
colours['🌙']=[125,142,90]
colours['🌚']=[90,109,110]
colours['🌛']=[130,143,90]
colours['🌜']=[130,143,90]
colours['🌝']=[202,181,108]
colours['🌞']=[190,154,55]
colours['🌟']=[166,147,71]
colours['🌠']=[117,136,128]
colours['🌡']=[115,123,104]
colours['🌤']=[168,162,110]
colours['🌥']=[152,165,136]
colours['🌦']=[153,170,147]
colours['🌧']=[138,169,160]
colours['🌨']=[138,170,163]
colours['🌩']=[150,165,138]
colours['🌪']=[107,134,123]
colours['🌫']=[219,227,231]
colours['🌬']=[122,152,136]
colours['🌭']=[154,127,96]
colours['🌮']=[166,146,74]
colours['🌯']=[150,154,112]
colours['🌰']=[150,94,66]
colours['🌱']=[83,128,78]
colours['🌲']=[76,118,62]
colours['🌳']=[82,125,61]
colours['🌴']=[89,120,71]
colours['🌵']=[95,146,78]
colours['🌶']=[119,96,75]
colours['🌷']=[129,135,105]
colours['🌸']=[179,146,136]
colours['🌹']=[102,84,62]
colours['🌺']=[180,143,129]
colours['🌻']=[134,123,50]
colours['🌼']=[135,158,125]
colours['🌾']=[96,133,77]
colours['🌿']=[95,132,83]
colours['🍀']=[100,152,81]
colours['🍁']=[143,79,72]
colours['🍂']=[150,126,95]
colours['🍃']=[109,157,105]
colours['🍄']=[166,114,115]
colours['🍅']=[173,72,71]
colours['🍇']=[113,103,149]
colours['🍈']=[121,167,103]
colours['🍉']=[121,106,79]
colours['🍊']=[186,133,31]
colours['🍋']=[183,173,77]
colours['🍍']=[118,137,72]
colours['🍎']=[160,75,70]
colours['🍏']=[99,148,78]
colours['🍐']=[114,155,101]
colours['🍒']=[115,91,66]
colours['🍓']=[139,78,68]
colours['🍔']=[176,135,100]
colours['🍕']=[144,119,66]
colours['🍖']=[133,118,81]
colours['🍗']=[125,116,80]
colours['🍘']=[131,97,75]
colours['🍙']=[149,163,153]
colours['🍚']=[170,141,136]
colours['🍛']=[154,161,126]
colours['🍜']=[173,156,118]
colours['🍝']=[164,155,123]
colours['🍞']=[192,169,132]
colours['🍟']=[175,94,62]
colours['🍠']=[148,110,81]
colours['🍡']=[124,142,105]
colours['🍢']=[112,132,107]
colours['🍣']=[148,102,96]
colours['🍤']=[187,143,70]
colours['🍥']=[181,183,186]
colours['🍦']=[146,154,97]
colours['🍧']=[145,151,162]
colours['🍨']=[114,140,135]
colours['🍩']=[136,112,69]
colours['🍪']=[171,139,109]
colours['🍫']=[143,108,94]
colours['🍬']=[142,100,89]
colours['🍭']=[161,120,66]
colours['🍮']=[144,143,107]
colours['🍯']=[167,143,64]
colours['🍰']=[182,179,149]
colours['🍱']=[131,90,80]
colours['🍲']=[106,119,84]
colours['🍳']=[104,120,105]
colours['🍴']=[102,134,115]
colours['🍵']=[132,164,127]
colours['🍼']=[133,158,144]
colours['🍽']=[187,200,203]
colours['🍿']=[172,150,125]
colours['🎀']=[167,67,70]
colours['🎁']=[202,145,102]
colours['🎂']=[186,131,125]
colours['🎃']=[177,117,27]
colours['🎄']=[87,118,67]
colours['🎅']=[201,158,127]
colours['🎆']=[103,142,151]
colours['🎇']=[101,141,154]
colours['🎈']=[105,93,69]
colours['🎉']=[136,100,85]
colours['🎊']=[128,112,77]
colours['🎋']=[95,112,68]
colours['🎌']=[124,141,123]
colours['🎍']=[114,149,88]
colours['🎎']=[119,124,106]
colours['🎏']=[144,144,141]
colours['🎐']=[96,134,99]
colours['🎑']=[103,141,137]
colours['🎒']=[154,54,56]
colours['🎓']=[74,92,72]
colours['🎖']=[129,127,95]
colours['🎗']=[139,143,74]
colours['🎙']=[87,115,101]
colours['🎛']=[160,168,174]
colours['🎞']=[112,138,133]
colours['🎟']=[144,84,78]
colours['🎠']=[121,136,112]
colours['🎡']=[113,132,126]
colours['🎢']=[138,147,142]
colours['🎣']=[79,115,107]
colours['🎤']=[73,110,97]
colours['🎥']=[71,95,82]
colours['🎧']=[74,117,110]
colours['🎨']=[158,138,106]
colours['🎪']=[132,123,113]
colours['🎫']=[140,164,152]
colours['🎬']=[88,120,85]
colours['🎭']=[134,156,138]
colours['🎮']=[56,76,62]
colours['🎯']=[185,117,128]
colours['🎰']=[120,124,119]
colours['🎱']=[77,90,88]
colours['🎲']=[154,94,90]
colours['🎳']=[94,107,99]
colours['🎴']=[139,79,80]
colours['🎵']=[81,141,152]
colours['🎶']=[78,133,132]
colours['🎷']=[136,138,80]
colours['🎸']=[110,106,89]
colours['🎹']=[120,126,132]
colours['🎺']=[134,135,78]
colours['🎻']=[120,120,70]
colours['🎼']=[87,114,101]
colours['🎽']=[103,157,173]
colours['🎾']=[133,180,111]
colours['🎿']=[126,151,151]
colours['🏀']=[169,115,28]
colours['🏁']=[108,131,118]
colours['🏂']=[139,151,151]
colours['🏃']=[116,125,75]
colours['🏄']=[99,135,123]
colours['🏅']=[127,145,110]
colours['🏆']=[177,153,72]
colours['🏇']=[112,111,77]
colours['🏈']=[110,81,64]
colours['🏉']=[142,175,180]
colours['🏊']=[131,155,134]
colours['🏋']=[118,122,74]
colours['🏌']=[110,128,90]
colours['🏍']=[85,120,86]
colours['🏎']=[109,121,83]
colours['🏏']=[122,116,87]
colours['🏐']=[176,189,186]
colours['🏑']=[121,108,73]
colours['🏒']=[88,108,68]
colours['🏓']=[153,92,80]
colours['🏔']=[80,105,86]
colours['🏕']=[130,143,77]
colours['🏖']=[129,123,99]
colours['🏗']=[112,88,71]
colours['🏘']=[141,147,112]
colours['🏙']=[96,122,137]
colours['🏚']=[129,120,94]
colours['🏛']=[138,157,152]
colours['🏜']=[143,159,92]
colours['🏝']=[112,130,85]
colours['🏞']=[99,146,144]
colours['🏟']=[129,144,141]
colours['🏠']=[143,157,120]
colours['🏡']=[148,165,119]
colours['🏢']=[161,176,167]
colours['🏣']=[144,166,172]
colours['🏤']=[165,104,93]
colours['🏥']=[142,176,191]
colours['🏦']=[145,163,162]
colours['🏨']=[177,179,151]
colours['🏪']=[139,129,137]
colours['🏫']=[172,178,149]
colours['🏬']=[153,177,182]
colours['🏭']=[144,85,84]
colours['🏮']=[158,51,60]
colours['🏯']=[131,139,125]
colours['🏰']=[123,153,153]
colours['🏳']=[147,170,157]
colours['🏴']=[68,91,78]
colours['🏵']=[203,147,52]
colours['🏷']=[162,161,102]
colours['🏸']=[90,129,116]
colours['🏹']=[112,118,89]
colours['🏺']=[100,94,69]
colours['🏻']=[192,188,165]
colours['🏼']=[190,179,135]
colours['🏽']=[169,152,117]
colours['🏾']=[142,121,83]
colours['🏿']=[107,91,66]
colours['🐀']=[95,112,99]
colours['🐁']=[122,141,122]
colours['🐂']=[133,110,80]
colours['🐃']=[65,89,75]
colours['🐄']=[91,116,100]
colours['🐅']=[133,129,65]
colours['🐆']=[139,142,72]
colours['🐇']=[121,144,134]
colours['🐈']=[154,149,76]
colours['🐉']=[91,141,74]
colours['🐊']=[79,124,70]
colours['🐋']=[67,127,138]
colours['🐌']=[157,141,104]
colours['🐍']=[99,146,80]
colours['🐎']=[108,104,74]
colours['🐏']=[149,166,143]
colours['🐐']=[135,160,141]
colours['🐑']=[169,182,158]
colours['🐒']=[143,112,83]
colours['🐓']=[154,162,144]
colours['🐔']=[138,148,122]
colours['🐗']=[151,95,72]
colours['🐘']=[131,153,153]
colours['🐙']=[117,102,157]
colours['🐚']=[141,164,155]
colours['🐛']=[96,106,119]
colours['🐜']=[60,85,69]
colours['🐝']=[108,128,102]
colours['🐞']=[111,74,69]
colours['🐟']=[72,134,149]
colours['🐠']=[175,158,70]
colours['🐡']=[132,119,88]
colours['🐢']=[77,123,69]
colours['🐣']=[181,174,110]
colours['🐤']=[153,149,73]
colours['🐥']=[168,157,73]
colours['🐦']=[143,85,69]
colours['🐧']=[133,143,122]
colours['🐨']=[107,134,124]
colours['🐩']=[105,133,120]
colours['🐪']=[126,108,77]
colours['🐫']=[131,108,77]
colours['🐬']=[69,129,151]
colours['🐭']=[132,143,139]
colours['🐮']=[189,172,166]
colours['🐯']=[179,162,104]
colours['🐰']=[125,144,133]
colours['🐱']=[192,167,78]
colours['🐲']=[92,142,75]
colours['🐳']=[67,130,151]
colours['🐴']=[145,103,77]
colours['🐵']=[151,119,93]
colours['🐶']=[141,114,90]
colours['🐷']=[205,138,145]
colours['🐸']=[128,173,110]
colours['🐹']=[208,163,100]
colours['🐺']=[112,135,126]
colours['🐻']=[166,111,86]
colours['🐼']=[164,172,166]
colours['🐽']=[137,125,106]
colours['🐾']=[79,89,59]
colours['🐿']=[133,115,73]
colours['👀']=[158,177,167]
colours['👁']=[115,134,111]
colours['👂']=[170,163,82]
colours['👃']=[151,156,81]
colours['👄']=[131,104,89]
colours['👅']=[130,94,80]
colours['👆']=[148,157,83]
colours['👇']=[148,157,83]
colours['👈']=[148,157,83]
colours['👉']=[148,157,83]
colours['👊']=[175,166,83]
colours['👋']=[176,177,102]
colours['👌']=[147,154,82]
colours['👍']=[181,169,84]
colours['👎']=[181,169,84]
colours['👏']=[202,173,83]
colours['👐']=[149,155,82]
colours['👑']=[189,158,73]
colours['👒']=[136,147,103]
colours['👓']=[69,111,97]
colours['👔']=[136,148,190]
colours['👕']=[64,131,162]
colours['👖']=[63,122,133]
colours['👗']=[79,143,161]
colours['👘']=[80,139,163]
colours['👚']=[120,122,148]
colours['👛']=[201,99,109]
colours['👜']=[138,116,160]
colours['👝']=[121,160,105]
colours['👞']=[97,99,69]
colours['👟']=[128,103,93]
colours['👠']=[105,87,70]
colours['👡']=[110,106,77]
colours['👢']=[132,102,73]
colours['👣']=[85,76,50]
colours['👤']=[49,106,120]
colours['👥']=[62,125,145]
colours['👦']=[197,170,75]
colours['👧']=[200,168,73]
colours['👨']=[191,167,74]
colours['👩']=[204,165,69]
colours['👪']=[221,174,83]
colours['👫']=[154,143,93]
colours['👬']=[132,145,95]
colours['👭']=[166,141,89]
colours['👮']=[111,134,104]
colours['👯']=[129,131,72]
colours['👰']=[223,211,171]
colours['👱']=[189,179,65]
colours['👲']=[148,140,80]
colours['👳']=[166,153,102]
colours['👴']=[188,179,94]
colours['👵']=[153,151,98]
colours['👶']=[185,171,82]
colours['👷']=[163,162,82]
colours['👸']=[201,166,76]
colours['👹']=[126,77,67]
colours['👺']=[155,94,90]
colours['👻']=[152,171,162]
colours['👼']=[175,173,117]
colours['👽']=[138,156,151]
colours['👾']=[76,88,100]
colours['👿']=[147,127,188]
colours['💀']=[143,161,156]
colours['💁']=[186,147,71]
colours['💂']=[93,97,71]
colours['💃']=[126,107,72]
colours['💄']=[151,121,86]
colours['💅']=[139,121,85]
colours['💆']=[184,154,75]
colours['💇']=[164,144,81]
colours['💈']=[117,139,123]
colours['💋']=[146,78,71]
colours['💌']=[168,156,153]
colours['💍']=[97,136,124]
colours['💎']=[93,148,156]
colours['💏']=[196,148,73]
colours['💐']=[117,125,70]
colours['💑']=[202,146,81]
colours['💓']=[163,83,72]
colours['💔']=[162,71,71]
colours['💕']=[143,79,72]
colours['💖']=[178,81,72]
colours['💗']=[181,114,114]
colours['💘']=[171,94,70]
colours['💙']=[85,153,183]
colours['💚']=[103,155,84]
colours['💛']=[193,173,84]
colours['💜']=[137,132,168]
colours['💝']=[192,123,88]
colours['💞']=[158,85,81]
colours['💟']=[229,125,139]
colours['💠']=[83,143,156]
colours['💡']=[144,155,104]
colours['💢']=[105,87,68]
colours['💣']=[67,84,67]
colours['💤']=[69,117,102]
colours['💥']=[131,97,72]
colours['💧']=[79,136,141]
colours['💨']=[144,179,180]
colours['💩']=[150,112,90]
colours['💪']=[178,173,85]
colours['💫']=[134,140,82]
colours['💬']=[145,181,185]
colours['💭']=[139,174,173]
colours['💮']=[186,142,138]
colours['💯']=[126,70,64]
colours['💰']=[171,167,111]
colours['💱']=[68,98,76]
colours['💳']=[166,142,79]
colours['💴']=[216,184,115]
colours['💵']=[145,177,108]
res = 61,33
def getcolorforrange(r, g, b):
    closestint = 100000
    closestcolour = ""
    for i in colours.items():
        totalint = ( ((r - i[1][0])**2) + ((g - i[1][1])**2) + ((b - i[1][2])**2) )
        if totalint < closestint:
            closestint = totalint
            closestcolour = i[0]
    return closestcolour
import uvicorn
def turnascii(img):
    w,h = res
    returnmessage = ""
    for y in range(h):
        for x in range(w):
            r, g, b = img.getpixel((x, y))

            returnmessage = returnmessage + getcolorforrange(r,g,b)
        returnmessage = returnmessage + "\n"
    return returnmessage
b = ""
start_server = ''
print('j')
@app.get("/", response_class=fastapi.responses.HTMLResponse)
def read_root():
    b = turnascii(ImageGrab.grab().resize(res, 5))
    return b
uvicorn.run(app, host="127.0.0.1", port=8002, log_level="info")
